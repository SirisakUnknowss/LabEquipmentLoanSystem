{% extends 'base/base.html' %}
{% block content %}
<main class="main-content position-relative max-height-vh-100 h-100">
    <div class="container-fluid py-4 px-xl-10 px-md-5">
        <div class="row mt-4">
            <div class="card card-body mx-2 mx-md-1 mt-n4">
                <div class="card-header">
                    <h5>เพิ่มอุปกรณ์วิทยาศาตร์</h5>
                </div>
                <div class="container">
                    <!--Simple Form-->
                    {% if equipment %}
                    <div class="card-header p-0 position-relative mt-n4 mx-3 z-index-2 bg-transparent">
                      <div class="bg-gradient-light shadow-secondary border-radius-lg py-3 pe-1">
                        <div class="chart">
                          {% if equipment.image %}
                            <img src="{{ equipment.image }}" class="image-equipments img-fluid shadow border-radius-xl" />
                          {% else %}
                            <img src="{{ STATIC_URL }}/images/equipment/PlaceHolder.png" class="image-equipments border-radius-xl" />
                          {% endif %}
                        </div>
                      </div>
                    </div>
                    <form enctype="multipart/form-data" id="add-equipment" method="post" action="{% url 'editEquipmentApi' %}">
                        {% csrf_token %}
                        
                        <input type="hidden" value="{{ equipment.id }}" name="equipment" />
                        <div class="input-group input-group-outline my-3 is-filled">
                            <label class="form-label">ชื่ออุปกรณ์</label>
                            <input type="text" class="form-control" id="id_name" name="name" value="{{ equipment.name }}" required>
                        </div>
                        <div class="input-group input-group-outline my-3 is-filled">
                            <label class="form-label">ยี่ห้อ</label>
                            <input type="text" class="form-control" id="id_brand" name="brand" value="{{ equipment.brand }}" required>
                        </div>
                        <div class="input-group input-group-outline my-3 is-filled">
                            <label class="form-label">ขนาด</label>
                            <input type="number" class="form-control numInputWrapper" id="id_size" name="size" value="{{ equipment.size }}" required>
                        </div>
                        <div class="input-group input-group-outline my-3">
                            <select class="form-select" id="id_unit" name="unit" required>
                                <option value="">-------- หน่วย --------</option>
                                <option value="NotSpecified">ไม่ระบุ</option>
                                <option value="Celsius">&#8451;</option>
                                <option value="CubicCentimeter">cm³</option>
                                <option value="Millimeter">mm</option>
                                <option value="Milliliter">mL</option>
                                <option value="Centimeter">cm</option>
                                <option value="Liter">L</option>
                            </select>
                        </div>
                        <div class="input-group input-group-outline my-3 is-filled">
                            <label class="form-label">จำนวน</label>
                            <input type="number" class="form-control numInputWrapper" id="id_quantity" name="quantity" value="{{ equipment.quantity }}" required>
                        </div>
                        <h2 class="my-4">เพิ่มรูปภาพ</h2>
                        <input type="file" name="upload" accept="image/*">
                        <br>
                        <div class="col-12">
                            <button class="btn bg-gradient-success my-4" type="submit">บันทึกข้อมูล</button>
                            <a class="" href="{% url 'equipment-list' %}">
                                <span class="btn bg-gradient-danger my-4">ยกเลิก</span>
                            </a>
                        </div>
                    </form>
                    
                    {% else %}
                    <form enctype="multipart/form-data" id="add-equipment" method="post" action="{% url 'addEquipmentApi' %}">
                        {% csrf_token %}
                        
                        <div class="input-group input-group-outline my-3">
                            <label class="form-label">ชื่ออุปกรณ์</label>
                            <input type="text" class="form-control" id="id_name" name="name" required>
                        </div>
                        <div class="input-group input-group-outline my-3">
                            <label class="form-label">ขนาด</label>
                            <input type="number" class="form-control numInputWrapper" id="id_size" name="size" min="1" required>
                        </div>
                        <div class="input-group input-group-outline my-3">
                            <select class="form-select" id="id_unit" name="unit" required>
                                <option value="">-------- หน่วย --------</option>
                                <option value="NotSpecified">ไม่ระบุ</option>
                                <option value="Celsius">&#8451;</option>
                                <option value="CubicCentimeter">cm³</option>
                                <option value="Millimeter">mm</option>
                                <option value="Milliliter">mL</option>
                                <option value="Centimeter">cm</option>
                                <option value="Liter">L</option>
                            </select>
                        </div>
                        <div class="input-group input-group-outline my-3">
                            <label class="form-label">จำนวน</label>
                            <input type="number" class="form-control numInputWrapper" id="id_quantity" name="quantity" required>
                        </div>
                        <h2 class="my-4">เพิ่มรูปภาพ</h2>
                        <input type="file" name="upload" accept="image/*">
                        <br>
                        <button class="btn bg-gradient-success my-4" type="submit">ยืนยัน</button>
                        <a class="" href="{% url 'equipment-list' %}">
                            <span class="btn bg-gradient-danger my-4">ยกเลิก</span>
                        </a>
                    </form>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
</main>
{% endblock %}